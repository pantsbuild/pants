language: python

python:
  - "2.6"
  - "2.7"

jdk:
  - openjdk7

install:
  - pip install coveralls

script: |
  uname -a
  java -version
  ./build-support/bin/ci.sh -d

env:
  global:
    # Credentials for OSX syncing: GH_USER, GH_EMAIL, GH_TOKEN
    - secure: VvwbndU++a2/iNAjk9cd67ATiipDwqcKnxDR4/J2Ik3GH10wHEDUhJ1+MK4WLhedfaOakDOEmarZQS3GwtgvCHO3knpTJuJc8d/bCfZovYuSqdi//BEv4dS7hDt6tQeJfkbBjG0T4yNjPJ3W9R9KDWCy/vj2CUm90BGg2CmxUbg=

after_script: |
  # Only sync pantsbuild/pants-for-travis-osx-ci on pushes to pantsbuild/pants master
  if [[ TRAVIS_PULL_REQUEST == "false" && TRAVIS_BRANCH == "master" && TRAVIS_OS_NAME == "linux" ]]
  then
    ./build-support/bin/ci-sync.sh
  fi

notifications:
  email:
    - john.sirois@gmail.com
    - lhosken@twitter.com
    - zundel@squareup.com
    - benjyw@gmail.com
    - areitz@twitter.com

after_success:
  coveralls

