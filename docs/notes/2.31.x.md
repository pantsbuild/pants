# 2.31.x Release Series

Pants is a fast, scalable, user-friendly build system for codebases of all sizes.

Pants is an open-source project that is not owned or controlled by any one company or organization, and does incur some expenses. These expenses are managed by Pants Build, a non-profit that was established for this purpose. This non-profit's only source of revenue is [sponsorship](https://www.pantsbuild.org/sponsorship) by individuals and companies that use Pants.

We offer [formal sponsorship tiers for companies](https://www.pantsbuild.org/sponsorship), as well as individual sponsorships via [GitHub](https://github.com/sponsors/pantsbuild).

Thank you to [Klaviyo](https://www.klaviyo.com/) for their Platinum tier support through throughout this release.

## What's New

### Highlights

### Deprecations

### General

### Goals

### Backends

#### Helm

#### JVM

#### Python

Added the `[python].default_to_resolve_interpreter_constraints` option which when set the true, allows Python targets with both `interpreter_constraints` and `resolve` fields to fallback on their resolve's interpreter constraints before the global constraints if no interpreter constraints are set on the actual target.

#### Shell

#### Javascript

#### TypeScript

#### Go

Go now compiles with trimpath to strip sandbox paths from output, allowing for reproducible builds.

#### NEW: nFPM Native Libs

Added a new experimental `pants.backend.experimental.nfpm.native_libs` backend to complement the [`nFPM`](https://nfpm.goreleaser.com/) backend (originally added in [pants 2.23](https://github.com/pantsbuild/pants/blob/main/docs/notes/2.23.x.md#new-nfpm)). `nFPM` builds system packages, but, unlike native packaging tools, does not inspect packaged binaries to automatically record package `depends` (aka `requires`). The nFPM Native Libs backend is meant to fill that feature gap, simplifying package dependency management.

Initially, this backend only supports:
- `deb` and `rpm` packages (by inspecting the dependencies of `nfpm_deb_package` and `nfpm_rpm_package` targets;
- native libraries packaged as wheels in `pex_binary` targets;
- native libraries and binaries in the [`ELF`](https://en.wikipedia.org/wiki/Executable_and_Linkable_Format) format (used on linux);

So, this backend serves provides a simplified set of features from these native packaging tools:
- `rpm`: `elfdeps` analyzes ELF metadata and `rpmdeps` adds the requirements to the `.rpm` file.
- `deb`: `${shlibs:Depends}` and similar debian control file substitutions are handled by `dh_shlibdeps` and `dpkg-shlibdeps` tooling.

This backend should be platform-agnostic, allowing it to run wherever `pants` can run. To do this, it relies on the [`elfdeps`](https://github.com/python-wheel-build/elfdeps) [ðŸ“¦](https://pypi.org/project/elfdeps/) pure-python package (a "Python implementation of RPM `elfdeps`" with its pure-python dep [`pyelftools`](https://github.com/eliben/pyelftools) [ðŸ“¦](https://pypi.org/project/pyelftools/)) for analyzing `ELF` libraries. Then, for `deb` packages, this backend queries official [`debian`](https://packages.debian.org/search) or [`ubuntu`](https://packages.ubuntu.com/search) API (over HTTPS) to lookup which package(s) contain required libraries. Using the package search API avoids the local package metadata stores that can only find dependency packages if they are installed (such stores are not just distribution-specific, they are specific to a single release of a distribution).

Please provide feedback on this backend [here](https://github.com/pantsbuild/pants/discussions/22396).

### Plugin API changes

Pants no longer supports loading `pkg_resources`-style namespace packages for plugins. Instead, just use ["native namespace packages"](https://packaging.python.org/en/latest/guides/packaging-namespace-packages/#native-namespace-packages) as per [PEP 420](https://peps.python.org/pep-0420/).

## Full Changelog

For the full changelog, see the individual GitHub Releases for this series: <https://github.com/pantsbuild/pants/releases>
