<?xml version="1.0"?>

<!--
Copyright 2014 Pants project contributors (see CONTRIBUTORS.md).
Licensed under the Apache License, Version 2.0 (see LICENSE).
-->

<!-- generated by pants! -->
<ivy-module version="2.0"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:noNamespaceSchemaLocation="http://ant.apache.org/ivy/schemas/ivy.xsd"
            xmlns:m="http://ant.apache.org/ivy/maven">

  <info organisation="{{lib.org}}" module="{{lib.module}}"
    {{#lib.version}}
    revision="{{.}}"
    {{/lib.version}}
   />

  {{#lib.configurations?}}
    <configurations>
      {{#lib.configurations}}
      <conf name="{{.}}"/>
      {{/lib.configurations}}
    </configurations>
  {{/lib.configurations?}}

  {{#lib.publications?}}
  <publications>
    <artifact conf="default" type="jar" ext="jar"/>
    <artifact conf="default" type="pom" ext="pom"/>
    {{#lib.publications.sources}}
    <artifact conf="sources" type="source" m:classifier="sources" ext="jar"/>
    {{/lib.publications.sources}}
    {{#lib.publications.javadoc}}
    <artifact conf="javadoc" type="javadoc" m:classifier="javadoc" ext="jar"/>
    {{/lib.publications.javadoc}}
    {{#lib.publications.changelog}}
    <artifact conf="changelog" type="CHANGELOG" m:classifier="CHANGELOG" ext="txt"/>
    {{/lib.publications.changelog}}
  </publications>
  {{/lib.publications?}}

  {{#lib.dependencies?}}
  <dependencies>
    {{#lib.dependencies}}
    <dependency org="{{org}}"
                name="{{module}}"
                rev="{{version}}"
                {{#force}}force="true"{{/force}}
                {{^transitive}}transitive="false"{{/transitive}}
                {{#mutable}}changing="true"{{/mutable}}
    >
      {{#configurations}}
      <conf name="{{.}}" mapped="{{.}}"/>
      {{/configurations}}
      {{#artifacts}}
      <!--
      The conf = ... in the block below is a hack around a bug John described on RB 716. The bug has
      something to do with artifacts not being fetched unless .with_artifacts is called multiple
      times.
      -->
      <artifact
        {{#name}}name="{{.}}"{{/name}}
        {{#ext}}ext="{{.}}"{{/ext}}
        {{#url}}url="{{.}}"{{/url}}
        {{#type_}}type="{{.}}"{{/type_}}
        {{#classifier}}m:classifier="{{.}}"{{/classifier}}
        conf="{{#configurations}}{{.}}->{{.}};{{/configurations}}"
      />
      {{/artifacts}}
      {{#excludes}}
      {{#name}}<exclude matcher="exactOrRegexp" org="{{org}}" module="{{name}}"/>{{/name}}
      {{^name}}<exclude matcher="exactOrRegexp" org="{{org}}"/>{{/name}}
      {{/excludes}}
    </dependency>
    {{/lib.dependencies}}
    {{#lib.excludes}}
    {{#name}}<exclude matcher="exactOrRegexp" org="{{org}}" module="{{name}}"/>{{/name}}
    {{^name}}<exclude matcher="exactOrRegexp" org="{{org}}"/>{{/name}}
    {{/lib.excludes}}
    {{#lib.overrides?}}
      {{#lib.overrides}}
    <override org="{{org}}" module="{{module}}" rev="{{version}}"/>
      {{/lib.overrides}}
    {{/lib.overrides?}}
  </dependencies>
  {{/lib.dependencies?}}
</ivy-module>
