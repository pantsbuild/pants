# 2.19.x Release Series

Pants 2 is a fast, scalable, user-friendly build system for codebases of all sizes. It's currently focused on Python, Go, Java, Scala, Kotlin, Shell, and Docker, with support for other languages and frameworks coming soon.

Individuals and companies can now [sponsor Pants financially](https://www.pantsbuild.org/docs/sponsorship).

Pants is an open-source project that is not owned or controlled by any one company or organization, and does incur some expenses. These expenses are managed by Pants Build, a non-profit that was established for this purpose. This non-profit's only source of revenue is sponsorship by individuals and companies that use Pants.

We offer [formal sponsorship tiers for companies](https://www.pantsbuild.org/docs/sponsorship), as well as individual sponsorships via [GitHub](https://github.com/sponsors/pantsbuild).

## What's New

### Highlights

### Overall

### BUILD files

### Performance

### Remote caching/execution

Large files that need to be stored to a remote cache are now streamed to it directly from disk, in a way that should reduce overhead and increase concurrency ([#19711](https://github.com/pantsbuild/pants/pull/19711)).

### Backends

#### Docker

The [docker backend](https://www.pantsbuild.org/v2.19/docs/docker) now has explicit support for using [`buildx` (and thus BuildKit)](https://github.com/docker/buildx#buildx), via [the new `use_buildx` option](https://www.pantsbuild.org/v2.19/docs/reference-docker#use_buildx). This also allows adding few additional fields for [`docker_image` targets](https://www.pantsbuild.org/v2.19/docs/reference-docker_image), for `buildx`-specific functionality:

- [`cache_from` and `cache_to`](https://www.pantsbuild.org/v2.19/docs/docker#external-cache-storage-backends) for using external cache storage backends
- [`output`](https://www.pantsbuild.org/v2.19/docs/reference-docker_image#codeoutputcode) to control how/where `buildx` outputs an image when running `pants package ::`

#### JVM

JVM lock-files are more reliable, handling [some cases](https://github.com/pantsbuild/pants/issues/20162) of Coursier not including dependencies when expected.

Using [`shading_rules`](https://www.pantsbuild.org/v2.19/docs/reference-deploy_jar#codeshading_rulescode) is now supported on `deploy_jar` targets defined in directories of the build root.

##### Kotlin

The Kotlin analyzer now runs using the Zulu JDK, to be able to run natively on Apple Silicon (arm64 macOS).

##### Java

Dependency inference for Java now supports code using recently added syntax like `sealed class` & `permits`, `switch` expressions and `yield`.

##### Scala

Scala 3 is now supported when using [the BSP in an IDE](https://www.pantsbuild.org/v2.19/docs/jvm-overview#working-in-an-ide).

## Full Changelog

For the full changelog, see the individual GitHub Releases for this series: https://github.com/pantsbuild/pants/releases

# release_2.19.0rc2

## New Features

* Allow passing arbitrary args to PEX invocation when building FaaS artifacts (Cherry-pick of #20237) ([#20280](https://github.com/pantsbuild/pants/pull/20280))

## Bug Fixes

* fix: terraform_relpath works on files not in direct subpath (Cherry-pick of #20276) ([#20300](https://github.com/pantsbuild/pants/pull/20300))

* Fix: run `terraform validate` on modules again (Cherry-pick of #20230) ([#20298](https://github.com/pantsbuild/pants/pull/20298))

# release_2.19.0rc1

## Bug Fixes

* Use fork of indicatif to work around output truncation (Cherry-pick of #20269) ([#20277](https://github.com/pantsbuild/pants/pull/20277))

# release_2.19.0rc0

## Bug Fixes

* Remove print() statement (Cherry-pick of #20196) ([#20203](https://github.com/pantsbuild/pants/pull/20203))

* Do not choke on values from macros on environment targets during bootstrap. (Cherry-pick of #20191) ([#20198](https://github.com/pantsbuild/pants/pull/20198))

## Documentation

* Add note in docker_environment image field help on tool requirements (Cherry-pick of #20231) ([#20235](https://github.com/pantsbuild/pants/pull/20235))

# release_2.19.0a0

## New Features

* Support grouping parametrizations ([#20065](https://github.com/pantsbuild/pants/pull/20065))

* Parametrizable plugin fields for target generators ([#20059](https://github.com/pantsbuild/pants/pull/20059))

## User API Changes

* Discover ASDF interpreters by default ([#20105](https://github.com/pantsbuild/pants/pull/20105))

## Bug Fixes

* Fix `protobuf_sources` with parametrized `python_resolve` ([#20069](https://github.com/pantsbuild/pants/pull/20069))

## Documentation

* Update docs with get-pants.sh new install location: `~/.local/bin` ([#20155](https://github.com/pantsbuild/pants/pull/20155))

# release_2.19.0.dev4

## New Features

* Add `TransitivelyExcludeDependenciesRequest` to mirror user-provided values ([#20080](https://github.com/pantsbuild/pants/pull/20080))

* Use `ambiguity-resolution` for Python protobuf/grpc dependency inference ([#19939](https://github.com/pantsbuild/pants/pull/19939))

## Bug Fixes

* Make CompletePexEnvironment.environment_dict accept `PATH` from `subprocess-environment` ([#20082](https://github.com/pantsbuild/pants/pull/20082))

## Documentation

* vscode: add rust settings to suggested configuration in docs ([#20094](https://github.com/pantsbuild/pants/pull/20094))

# release_2.19.0.dev3

## New Features

* Optionally retry failed tests ([#19760](https://github.com/pantsbuild/pants/pull/19760))

* Create system-binaries subsystem ([#19377](https://github.com/pantsbuild/pants/pull/19377))

## User API Changes

* Upgrade Pex to 2.1.148. ([#20048](https://github.com/pantsbuild/pants/pull/20048))

* Deprecate the platforms field on pex_binary. ([#20012](https://github.com/pantsbuild/pants/pull/20012))

## Bug Fixes

* Fix protoc support on M1 mac ([#20058](https://github.com/pantsbuild/pants/pull/20058))

## Documentation

* doc: Some guidance on auto-fixing goals in CI ([#20040](https://github.com/pantsbuild/pants/pull/20040))

* docs: remove reference to `use_deprecated_directory_cli_args_semantics` ([#20041](https://github.com/pantsbuild/pants/pull/20041))

* Document how to build cross-platform pexes. ([#20008](https://github.com/pantsbuild/pants/pull/20008))

* Specify pants as running with cp3.9 only in plugin docs ([#20003](https://github.com/pantsbuild/pants/pull/20003))

# release_2.19.0.dev2

## New Features

* Support pass-through args to the repl goal for ipython ([#19858](https://github.com/pantsbuild/pants/pull/19858))

## Plugin API Changes

* Always have coloured output and then strip later for pytest, helm unittest, shunit2 ([#19923](https://github.com/pantsbuild/pants/pull/19923))

## Bug Fixes

* Fix Buf expected configuration files ([#18015](https://github.com/pantsbuild/pants/pull/18015))

* Don't crash in the presence of non-UTF-8 env vars. ([#19926](https://github.com/pantsbuild/pants/pull/19926))

* Fix missing venv path when running Pyright ([#19430](https://github.com/pantsbuild/pants/pull/19430))

* Regex dependency inference module mapping ([#19684](https://github.com/pantsbuild/pants/pull/19684))

## Documentation

* Fix "the the" typos in the codebase. ([#19967](https://github.com/pantsbuild/pants/pull/19967))

# release_2.19.0.dev1

## User API Changes

* Move .pids under .pants.d by default ([#19911](https://github.com/pantsbuild/pants/pull/19911))

* Enable lockfile diff report by default. ([#19900](https://github.com/pantsbuild/pants/pull/19900))

## Bug Fixes

* Support using `parametrize()` with a single value. ([#19920](https://github.com/pantsbuild/pants/pull/19920))

* Don't include `files` targets in coverage sandbox. ([#19913](https://github.com/pantsbuild/pants/pull/19913))

# release_2.19.0.dev0

## New Features

* Add lint backend to run semgrep ([#18593](https://github.com/pantsbuild/pants/pull/18593))

* `with contextlib.suppress(ImportError)` weakens imports ([#19293](https://github.com/pantsbuild/pants/pull/19293))

* Add support for openapi-format ([#18553](https://github.com/pantsbuild/pants/pull/18553))

## User API Changes

* Remove deprecations scheduled for 2.19.0.dev0. ([#19759](https://github.com/pantsbuild/pants/pull/19759))

* Remove remaining Lambdex code, update FaaS docs ([#19738](https://github.com/pantsbuild/pants/pull/19738))

* user api change: change the Pip version option to a string ([#19643](https://github.com/pantsbuild/pants/pull/19643))

## Plugin API Changes

* Optionally resolve rules by a provided id ([#19755](https://github.com/pantsbuild/pants/pull/19755))

* Remove "old" Python dep parser ([#19792](https://github.com/pantsbuild/pants/pull/19792))

* Remove TestResult.{stdout,stderr} and all uses. ([#19768](https://github.com/pantsbuild/pants/pull/19768))

## Bug Fixes

* Add --force-exclude to ruff args ([#19823](https://github.com/pantsbuild/pants/pull/19823))

* Tweak `fix` partitioning to closer align to `lint` partitioning ([#19796](https://github.com/pantsbuild/pants/pull/19796))

* Include all binaries available in a venv when fulfilling a VenvPexRequest ([#19315](https://github.com/pantsbuild/pants/pull/19315))

## Documentation

* docs: add chat archive link, more talks, more example repos ([#19679](https://github.com/pantsbuild/pants/pull/19679))

* Instructions: pants repo debugging with pycharm ([#19787](https://github.com/pantsbuild/pants/pull/19787))

* generate toml for reference-docs ([#19718](https://github.com/pantsbuild/pants/pull/19718))

* Remove Toolchain from who uses Pants page ([#19747](https://github.com/pantsbuild/pants/pull/19747))

* Remove `PANTS_SHA` from docs ([#19719](https://github.com/pantsbuild/pants/pull/19719))
