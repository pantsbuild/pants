2.0.x Stable Releases
=====================

This document describes releases leading up to the ``2.0.x`` ``stable`` series.

See https://pants.readme.io/v2.0/docs/release-notes-2-0 for an overview of the changes in this release.

2.0.0.dev6 (7/28/2020)
----------------------

API Changes
~~~~~~~~~~~

* Upgrade to Pex 2.1.14 (#10437)
  `PR #10437 <https://github.com/pantsbuild/pants/pull/10437>`_

New Features
~~~~~~~~~~~~

* Improve test output and allow it be configured. (#10484)
  `PR #10484 <https://github.com/pantsbuild/pants/pull/10484>`_

Bugfixes
~~~~~~~~

* Make independent owners requests per file to improve memoization (#10491)
  `PR #10491 <https://github.com/pantsbuild/pants/pull/10491>`_

* Fix `PluginField` not working in production (#10469)
  `PR #10469 <https://github.com/pantsbuild/pants/pull/10469>`_

* Allow for more cyclic cases with file dependencies (#10475)
  `PR #10475 <https://github.com/pantsbuild/pants/pull/10475>`_

* Fix Protobuf when using source roots (#10453)
  `PR #10453 <https://github.com/pantsbuild/pants/pull/10453>`_

* Fix fromfile expansion to skip passthrough args. (#10457)
  `PR #10457 <https://github.com/pantsbuild/pants/pull/10457>`_

* Fix `--print-exception-stacktrace` not invalidating pantsd (#10451)
  `PR #10451 <https://github.com/pantsbuild/pants/pull/10451>`_

* fixes in async_semaphore for concurrency ID calculation (#10436)
  `PR #10436 <https://github.com/pantsbuild/pants/pull/10436>`_

Refactoring, Improvements, and Tooling
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* Eliminate most rule registration boilerplate. (#10477)
  `PR #10477 <https://github.com/pantsbuild/pants/pull/10477>`_

* Remove unused `util/` and `base/` code (#10462)
  `PR #10462 <https://github.com/pantsbuild/pants/pull/10462>`_

* Rename `UrlToFetch` to `DownloadFile` (#10468)
  `PR #10468 <https://github.com/pantsbuild/pants/pull/10468>`_

* Change the `PathGlobs`, `SnapshotSubset`, and `UrlToFetch` intrinsics to return `Digest` (#10449)
  `PR #10449 <https://github.com/pantsbuild/pants/pull/10449>`_

* Unify accessing options for a `GoalSubsystem` with `Subsystem` (#10456)
  `PR #10456 <https://github.com/pantsbuild/pants/pull/10456>`_

* Rename `Workspace.materialize_directory()` to `Workspace.write_digest()` (#10448)
  `PR #10448 <https://github.com/pantsbuild/pants/pull/10448>`_

* Remove unused `SingleFileExecutable` (#10443)
  `PR #10443 <https://github.com/pantsbuild/pants/pull/10443>`_

* Remove support for Protoc 2 (#10439)
  `PR #10439 <https://github.com/pantsbuild/pants/pull/10439>`_

* Make GoalSubsystem subclass Subsystem. (#10483)
  `PR #10483 <https://github.com/pantsbuild/pants/pull/10483>`_

* Tweaks to help output: (#10466)
  `PR #10466 <https://github.com/pantsbuild/pants/pull/10466>`_

* Cleanup `fs.py` (#10474)
  `PR #10474 <https://github.com/pantsbuild/pants/pull/10474>`_

* Add `UnionMembership.from_rules()` (#10472)
  `PR #10472 <https://github.com/pantsbuild/pants/pull/10472>`_

* Kill Reporting (mostly). (#10463)
  `PR #10463 <https://github.com/pantsbuild/pants/pull/10463>`_

* Add dependencies on conftest and init files via inference (#10441)
  `PR #10441 <https://github.com/pantsbuild/pants/pull/10441>`_

* Kill ./pants literals. (#10465)
  `PR #10465 <https://github.com/pantsbuild/pants/pull/10465>`_

* Remove Options <-> Parser cycle. (#10464)
  `PR #10464 <https://github.com/pantsbuild/pants/pull/10464>`_

* Revert "Use isort v5.x as the default version (#10258)" (#10460)
  `PR #10460 <https://github.com/pantsbuild/pants/pull/10460>`_

* Demystify get_all_scoped_flag_names mypy kludges. (#10459)
  `PR #10459 <https://github.com/pantsbuild/pants/pull/10459>`_

* Optimize generated subtargets' interaction with `SpecifiedSourceFiles` (#10454)
  `PR #10454 <https://github.com/pantsbuild/pants/pull/10454>`_

* Simplify Collection. (#10450)
  `PR #10450 <https://github.com/pantsbuild/pants/pull/10450>`_

* Improvements to help output. (#10444)
  `PR #10444 <https://github.com/pantsbuild/pants/pull/10444>`_

* Fixes to get the process_executor CLI tool working again. (#10435)
  `PR #10435 <https://github.com/pantsbuild/pants/pull/10435>`_

* Rename argument in streaming workunit callback (#10432)
  `PR #10432 <https://github.com/pantsbuild/pants/pull/10432>`_

Testing
~~~~~~~

* Only skip building wheels on PR builds (#10482)
  `PR #10482 <https://github.com/pantsbuild/pants/pull/10482>`_

* Skip building wheels if no release files have changed (#10481)
  `PR #10481 <https://github.com/pantsbuild/pants/pull/10481>`_

* Skip flaky GoalRuleIntegrationTest (#10479)
  `Issue #10478 <https://github.com/pantsbuild/pants/issues/10478>`_
  `PR #10479 <https://github.com/pantsbuild/pants/pull/10479>`_

* A script to create an index.html for pants wheels on S3. (#10458)
  `PR #10458 <https://github.com/pantsbuild/pants/pull/10458>`_

* Get rid of remaining uses of init_subsystem. (#10427)
  `PR #10427 <https://github.com/pantsbuild/pants/pull/10427>`_

2.0.0.dev5 (7/22/2020)
----------------------

API Changes
~~~~~~~~~~~

* Use isort v5.x as the default version (#10258)
  `PR #10258 <https://github.com/pantsbuild/pants/pull/10258>`_

* Don't register any options as recursive. (#10415)
  `PR #10415 <https://github.com/pantsbuild/pants/pull/10415>`_

New Features
~~~~~~~~~~~~

* Speed up `repl` to no longer rebuild a Pex on source file changes (#10418)
  `Issue #10406 <https://github.com/pantsbuild/pants/issues/10406>`_
  `PR #10418 <https://github.com/pantsbuild/pants/pull/10418>`_

Refactoring, Improvements, and Tooling
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* Implement cycle detection in transitive_targets, and tolerate cycles in file-addresses. (#10409)
  `PR #10409 <https://github.com/pantsbuild/pants/pull/10409>`_

* Stop using cargo-ensure-installed (#10400)
  `PR #10400 <https://github.com/pantsbuild/pants/pull/10400>`_

* Remove use of "quiet" in logging init (#10417)
  `PR #10417 <https://github.com/pantsbuild/pants/pull/10417>`_

Testing
~~~~~~~

* Port the plugin resolver test to v2 test style. (#10424)
  `PR #10424 <https://github.com/pantsbuild/pants/pull/10424>`_

* Refactor flake8 integration test to use create_options_bootstrapper (#10422)
  `PR #10422 <https://github.com/pantsbuild/pants/pull/10422>`_

* Increase timeout on project_info tests. (#10421)
  `PR #10421 <https://github.com/pantsbuild/pants/pull/10421>`_

2.0.0.dev4 (7/21/2020)
----------------------

API Changes
~~~~~~~~~~~

* Upgrade default mypy from 0.781 to 0.782 (#10404)
  `PR #10404 <https://github.com/pantsbuild/pants/pull/10404>`_

* Remove unused `--fmt-only` option (#10388)
  `PR #10388 <https://github.com/pantsbuild/pants/pull/10388>`_

* Don't turn on branch coverage by default. (#10386)
  `PR #10386 <https://github.com/pantsbuild/pants/pull/10386>`_

* access store server for action cache (#10329)
  `Issue #10317 <https://github.com/pantsbuild/pants/issues/10317>`_
  `PR #10329 <https://github.com/pantsbuild/pants/pull/10329>`_

* Upgrade setuptools from 49.1.0 to 49.2.0 (#10347)
  `PR #10347 <https://github.com/pantsbuild/pants/pull/10347>`_

* Move `target.py` rules to `engine/internals/graph.py` (#10372)
  `PR #10372 <https://github.com/pantsbuild/pants/pull/10372>`_

New Features
~~~~~~~~~~~~

* Speed up `run` to no longer rebuild a Pex on source file changes (#10410)
  `Issue #10406 <https://github.com/pantsbuild/pants/issues/10406>`_
  `PR #10410 <https://github.com/pantsbuild/pants/pull/10410>`_

* Support for using a single global resolve. (#10405)
  `PR #10405 <https://github.com/pantsbuild/pants/pull/10405>`_

* Flake8 output file support. (#10371)
  `PR #10371 <https://github.com/pantsbuild/pants/pull/10371>`_

* A flag to force rerunning tests, bypassing the cache. (#10403)
  `PR #10403 <https://github.com/pantsbuild/pants/pull/10403>`_

* Support for injecting ancestor conftest.py files. (#10378)
  `PR #10378 <https://github.com/pantsbuild/pants/pull/10378>`_

* Allow ignoring dependencies with `!` (#10385)
  `PR #10385 <https://github.com/pantsbuild/pants/pull/10385>`_

* Allow dependencies on files in BUILD files (#10381)
  `PR #10381 <https://github.com/pantsbuild/pants/pull/10381>`_

* Unify generated subtargets with file arguments and `--changed-since` (#10356)
  `PR #10356 <https://github.com/pantsbuild/pants/pull/10356>`_

* Use colors for log messages (#10278)
  `PR #10278 <https://github.com/pantsbuild/pants/pull/10278>`_

Bugfixes
~~~~~~~~

* Print initial logs from pantsd using local time format
  `Issue #10128 <https://github.com/pantsbuild/pants/issues/10128>`_

* Fix using relative paths with `--local-cache-dir` and `--named-caches-dir` (#10398)
  `PR #10398 <https://github.com/pantsbuild/pants/pull/10398>`_

* Fix validation of dependencies ignores breaking with generated subtargets (#10407)
  `PR #10407 <https://github.com/pantsbuild/pants/pull/10407>`_

* close write stream for CAS writes via ByteStream API (#10395)
  `PR #10395 <https://github.com/pantsbuild/pants/pull/10395>`_

* Fix recently added n^2 edge collection. (#10392)
  `PR #10392 <https://github.com/pantsbuild/pants/pull/10392>`_

* Align cache directory calculation so that the LMDB store location is uniformly configurable. (#10391)
  `PR #10391 <https://github.com/pantsbuild/pants/pull/10391>`_

* remoting: use debug level for RE client workunits saved from remote (#10382)
  `PR #10382 <https://github.com/pantsbuild/pants/pull/10382>`_

* Always include types in the engine's definition of equality. (#10377)
  `PR #10377 <https://github.com/pantsbuild/pants/pull/10377>`_

* Have help respond to color (#10357)
  `PR #10357 <https://github.com/pantsbuild/pants/pull/10357>`_

* Display multiline help nicely. (#10366)
  `PR #10366 <https://github.com/pantsbuild/pants/pull/10366>`_

Refactoring, Improvements, and Tooling
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* Add a hint about adjusting max_user_watches on Linux. (#10413)
  `PR #10413 <https://github.com/pantsbuild/pants/pull/10413>`_

* Delete unused v1 sources. (#10411)
  `PR #10411 <https://github.com/pantsbuild/pants/pull/10411>`_

* upgrade to Rust 1.45.0 (#10396)
  `PR #10396 <https://github.com/pantsbuild/pants/pull/10396>`_

* Tolerate target cycles when using dependency inference (#10393)
  `Issue #10059 <https://github.com/pantsbuild/pants/issues/10059>`_
  `PR #10393 <https://github.com/pantsbuild/pants/pull/10393>`_

* Revert "Tolerate target cycles when using dependency inference (#10393)" (#10401)
  `PR #10393 <https://github.com/pantsbuild/pants/pull/10393>`_
  `PR #10401 <https://github.com/pantsbuild/pants/pull/10401>`_

* Add support for cycle-tolerant "weak" Gets (#10230)
  `PR #10230 <https://github.com/pantsbuild/pants/pull/10230>`_

* Make fetching wheels more resilient to network errors. (#10376)
  `PR #10376 <https://github.com/pantsbuild/pants/pull/10376>`_

* Avoid undefined behaviour around f64/u64 casts (#10374)
  `PR #10374 <https://github.com/pantsbuild/pants/pull/10374>`_

* Fix when an explicitly provided dependency supersedes an inferred dependency (#10375)
  `PR #10375 <https://github.com/pantsbuild/pants/pull/10375>`_

* Fix dependency inference handling of dependencies on self (#10373)
  `PR #10373 <https://github.com/pantsbuild/pants/pull/10373>`_

* Render local process infrastructure errors more verbosely. (#10368)
  `PR #10368 <https://github.com/pantsbuild/pants/pull/10368>`_

* Use our validate goal instead of the custom header check. (#10361)
  `PR #10361 <https://github.com/pantsbuild/pants/pull/10361>`_

* Delete some unused testprojects code. (#10364)
  `PR #10364 <https://github.com/pantsbuild/pants/pull/10364>`_

Testing
~~~~~~~

* Upload coverage data to coveralls (#10299)
  `PR #10299 <https://github.com/pantsbuild/pants/pull/10299>`_
  `PR #9919 <https://github.com/pantsbuild/pants/pull/9919>`_

Documentation
~~~~~~~~~~~~~

* A script to generate options reference pages for the docsite. (#10387)
  `PR #10387 <https://github.com/pantsbuild/pants/pull/10387>`_

2.0.0.dev3 (7/15/2020)
----------------------

New Features
~~~~~~~~~~~~

* Allow specifying address and file arguments at the same time (#10345)
  `PR #10345 <https://github.com/pantsbuild/pants/pull/10345>`_

* Make help-all dump a JSON blob containing all help info. (#10336)
  `PR #10336 <https://github.com/pantsbuild/pants/pull/10336>`_

* Integrate option value derivation into help. (#10313)
  `PR #10313 <https://github.com/pantsbuild/pants/pull/10313>`_

* Generate subtargets with file-level precision for dependency inference (#10305)
  `PR #10305 <https://github.com/pantsbuild/pants/pull/10305>`_

* Add option for specifying environment variable with concurrency slot (#10297)
  `PR #10297 <https://github.com/pantsbuild/pants/pull/10297>`_

* Add support for specifying a custom coverage config file (.coveragerc) (#10289)
  `PR #10289 <https://github.com/pantsbuild/pants/pull/10289>`_

Bugfixes
~~~~~~~~

* Fix generated subtargets not working with `dependees` (#10355)
  `PR #10355 <https://github.com/pantsbuild/pants/pull/10355>`_

* Ignore dead symlinks on Linux as well as OSX (#10339)
  `PR #10339 <https://github.com/pantsbuild/pants/pull/10339>`_

* Fix bug where workunit completion was not reported correctly (#10277)
  `PR #10277 <https://github.com/pantsbuild/pants/pull/10277>`_

* Fix collision in workunit affecting patches. (#10350)
  `PR #10350 <https://github.com/pantsbuild/pants/pull/10350>`_

* Pass stream workunit context to all callbacks calls instead of just passing it in the last call. (#10340)
  `PR #10340 <https://github.com/pantsbuild/pants/pull/10340>`_

* Fix awslambda configuration of Pex. (#10323)
  `PR #10323 <https://github.com/pantsbuild/pants/pull/10323>`_

* Hotfix Bandit breaking from stevedore 3.0 release (#10319)
  `PR #10319 <https://github.com/pantsbuild/pants/pull/10319>`_

Refactoring, Improvements, and Tooling
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* Render only leaf rule graph errors, and improve error messages (#10311)
  `PR #10311 <https://github.com/pantsbuild/pants/pull/10311>`_

* Tweak `any_matches_filespec` to return which paths matched (#10358)
  `PR #10358 <https://github.com/pantsbuild/pants/pull/10358>`_

* Add check for invalid concrete time dates (#10349)
  `PR #10349 <https://github.com/pantsbuild/pants/pull/10349>`_

* Explicit error on missing descriptions in the `goals` goal. (#10348)
  `PR #10348 <https://github.com/pantsbuild/pants/pull/10348>`_

* Add module to default rule names. (#10341)
  `PR #10341 <https://github.com/pantsbuild/pants/pull/10341>`_

* add artifacts infrastructure on relevant types (#10344)
  `PR #10344 <https://github.com/pantsbuild/pants/pull/10344>`_

* Revert modernization of virtualenv to fix pants.pex deploy in CI. (#10343)
  `PR #10343 <https://github.com/pantsbuild/pants/pull/10343>`_

* Represent generated subtarget addresses as file names (#10338)
  `PR #10338 <https://github.com/pantsbuild/pants/pull/10338>`_

* Remove unusued RunTracker code (#10315)
  `PR #10315 <https://github.com/pantsbuild/pants/pull/10315>`_

* Minor wording change in help message (#10335)
  `PR #10335 <https://github.com/pantsbuild/pants/pull/10335>`_

* Display whether a scope is a goal or subsystem in help. (#10332)
  `PR #10332 <https://github.com/pantsbuild/pants/pull/10332>`_

* Fix `run_virtualenv` to target the current `$PY`. (#10331)
  `PR #10331 <https://github.com/pantsbuild/pants/pull/10331>`_

* Modernize virtualenv. (#10330)
  `PR #10330 <https://github.com/pantsbuild/pants/pull/10330>`_

* Stop differentiating between constructors and types in FFI. (#10327)
  `PR #10327 <https://github.com/pantsbuild/pants/pull/10327>`_

* Use generated subtargets internally (#10312)
  `PR #10312 <https://github.com/pantsbuild/pants/pull/10312>`_

* Remove `Revision` (#10318)
  `PR #10318 <https://github.com/pantsbuild/pants/pull/10318>`_

* Bump to nails 0.6.0 to lay groundwork for cancelation of pantsd runs. (#10320)
  `PR #10320 <https://github.com/pantsbuild/pants/pull/10320>`_

* remove polling remote execution client (#10306)
  `PR #10306 <https://github.com/pantsbuild/pants/pull/10306>`_

* Remove `Struct` and `@addressable` abstractions (#10309)
  `PR #10309 <https://github.com/pantsbuild/pants/pull/10309>`_

* Move SubprocessProcessHandler near its single use. (#10307)
  `PR #10307 <https://github.com/pantsbuild/pants/pull/10307>`_

* No longer special case the `dependencies` field with TargetAdaptor (#10303)
  `PR #10303 <https://github.com/pantsbuild/pants/pull/10303>`_

* Use with_workunit everywhere (#10300)
  `PR #10300 <https://github.com/pantsbuild/pants/pull/10300>`_

* refactor execution strategy options into separate struct (#10304)
  `PR #10304 <https://github.com/pantsbuild/pants/pull/10304>`_

* Remove -q from the release run of reversion. (#10301)
  `PR #10301 <https://github.com/pantsbuild/pants/pull/10301>`_

* Simplify BUILD file parsing (#10298)
  `PR #10298 <https://github.com/pantsbuild/pants/pull/10298>`_

Testing
~~~~~~~

* Fix tests that relied on the docsite CNAME file. (#10337)
  `PR #10337 <https://github.com/pantsbuild/pants/pull/10337>`_

* Run unit tests and integration tests in CI in the same Pants run (#10333)
  `PR #10333 <https://github.com/pantsbuild/pants/pull/10333>`_

* Merge the unit and integration tests (#10302)
  `PR #10302 <https://github.com/pantsbuild/pants/pull/10302>`_

* Run code coverage on v2 unit tests. (#9919)
  `PR #9919 <https://github.com/pantsbuild/pants/pull/9919>`_

2.0.0.dev2 (7/8/2020)
---------------------

API Changes
~~~~~~~~~~~

* Rename `FilesContent` to `DigestContents` and `InputFilesContent` to `CreateDigest` (#10290)
  `PR #10290 <https://github.com/pantsbuild/pants/pull/10290>`_

* remoting: default is streaming client (#10260)
  `PR #10260 <https://github.com/pantsbuild/pants/pull/10260>`_

* Upgrade setuptools from 47.3.1 to 49.1.0 (#10255)
  `PR #10255 <https://github.com/pantsbuild/pants/pull/10255>`_

* Upgrade packaging from 20.3 to 20.4 (#10256)
  `PR #10256 <https://github.com/pantsbuild/pants/pull/10256>`_

* Deprecate the --v1/--v2 global options. (#10245)
  `PR #10245 <https://github.com/pantsbuild/pants/pull/10245>`_

New Features
~~~~~~~~~~~~

* Preserve source roots with Pytest output (#10165)
  `PR #10165 <https://github.com/pantsbuild/pants/pull/10165>`_

Bugfixes
~~~~~~~~

* Downgrade to tokio 0.2.20 to fix `materialize_directories`. (#10294)
  `PR #10294 <https://github.com/pantsbuild/pants/pull/10294>`_

* Expose method to bring down dynamic UI (#10234)
  `Issue #10005 <https://github.com/pantsbuild/pants/issues/10005>`_
  `PR #10234 <https://github.com/pantsbuild/pants/pull/10234>`_

* Fix double-workunit-completion print (#10247)
  `PR #10247 <https://github.com/pantsbuild/pants/pull/10247>`_
  `PR #10179 <https://github.com/pantsbuild/pants/pull/10179>`_

Refactoring, Improvements, and Tooling
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* Remove v1 `source/` abstractions like `EagerFileSet` (#10292)
  `PR #10292 <https://github.com/pantsbuild/pants/pull/10292>`_

* Use f-strings in engine/util.py (#10288)
  `PR #10288 <https://github.com/pantsbuild/pants/pull/10288>`_

* Use dependency inference internally (#10283)
  `PR #10283 <https://github.com/pantsbuild/pants/pull/10283>`_

* Unify `LegacyPythonCallbackParser` and `Parser` (#10281)
  `PR #10281 <https://github.com/pantsbuild/pants/pull/10281>`_

* Lower the default max-memory usage of pantsd. (#10287)
  `PR #10287 <https://github.com/pantsbuild/pants/pull/10287>`_

* Improvements and refactoring of help system. (#10280)
  `PR #10280 <https://github.com/pantsbuild/pants/pull/10280>`_

* Refactor WorkunitStore struct (#10242)
  `PR #10242 <https://github.com/pantsbuild/pants/pull/10242>`_

* remoting: check action cache for cached result before submitting a request (#10253)
  `PR #10253 <https://github.com/pantsbuild/pants/pull/10253>`_

* Remove leftover v1 Target API bindings (#10276)
  `PR #10276 <https://github.com/pantsbuild/pants/pull/10276>`_

* Fix remaining internal dependency cycles (#10254)
  `PR #10254 <https://github.com/pantsbuild/pants/pull/10254>`_

* Remove `build_graph.Target` (#10266)
  `PR #10266 <https://github.com/pantsbuild/pants/pull/10266>`_

* Remove `cache/` and `invalidation/` (#10262)
  `PR #10262 <https://github.com/pantsbuild/pants/pull/10262>`_

* Remove obsolete root patterns. (#10263)
  `PR #10263 <https://github.com/pantsbuild/pants/pull/10263>`_

* Remove `Task`, `Goal`, and `Context` (#10252)
  `PR #10252 <https://github.com/pantsbuild/pants/pull/10252>`_

* Simplify `git.py` and `scm.py` (#10251)
  `PR #10251 <https://github.com/pantsbuild/pants/pull/10251>`_

* Remove the internal tags `type_checked` and `partially_type_checked` (#10244)
  `PR #10244 <https://github.com/pantsbuild/pants/pull/10244>`_

* Remove `HydratedTarget`, `AddressMapper`, and `BuildGraph` (#10250)
  `PR #10250 <https://github.com/pantsbuild/pants/pull/10250>`_

* Remove all remaining v1 Targets (#10246)
  `PR #10246 <https://github.com/pantsbuild/pants/pull/10246>`_

* Remove `TestBase.context()` (#10248)
  `PR #10248 <https://github.com/pantsbuild/pants/pull/10248>`_

* Delete the rest of v1 `pants.backend.python` (#10240)
  `PR #10240 <https://github.com/pantsbuild/pants/pull/10240>`_

* Remove the concept of a scope category. (#10224)
  `PR #10224 <https://github.com/pantsbuild/pants/pull/10224>`_

Testing
~~~~~~~

* Remove stale "pants.pex for integration tests" mechanism (#10279)
  `PR #10279 <https://github.com/pantsbuild/pants/pull/10279>`_

* Re-enable RBE (#10284)
  `PR #10284 <https://github.com/pantsbuild/pants/pull/10284>`_

* Temporarily disable remote execution in CI (#10268)
  `PR #10268 <https://github.com/pantsbuild/pants/pull/10268>`_

* Upgrade responses from 0.10.14 to 0.10.15 (#10257)
  `PR #10257 <https://github.com/pantsbuild/pants/pull/10257>`_

* Increase pylint integration tests timeout. (#10261)
  `PR #10261 <https://github.com/pantsbuild/pants/pull/10261>`_

* Fix broken Pylint test from new isort release (#10259)
  `PR #10259 <https://github.com/pantsbuild/pants/pull/10259>`_

* Simplify ci.py now that we have no v1 tests (#10241)
  `PR #10241 <https://github.com/pantsbuild/pants/pull/10241>`_

2.0.0.dev1 (7/2/2020)
---------------------

API Changes
~~~~~~~~~~~

* Get rid of --plugins2/--backend-packages2 (#10231)
  `PR #10231 <https://github.com/pantsbuild/pants/pull/10231>`_

* Deprecate `--changed-include-dependees` in favor of `--changed-dependees` (#10217)
  `PR #10217 <https://github.com/pantsbuild/pants/pull/10217>`_

* Remove `pants.contrib.mypy` plugin in favor of v2 implementation (#10157)
  `PR #10157 <https://github.com/pantsbuild/pants/pull/10157>`_

* Remove `--coverage-py-omit-test-sources` (#10202)
  `PR #10202 <https://github.com/pantsbuild/pants/pull/10202>`_

* Gets rid of the v1 GoalRunner. (#10167)
  `PR #10167 <https://github.com/pantsbuild/pants/pull/10167>`_

* Remove `pants.backend.jvm` (#10218)
  `PR #10218 <https://github.com/pantsbuild/pants/pull/10218>`_

* Remove --zipkin-trace-v2 option (#10184)
  `PR #10184 <https://github.com/pantsbuild/pants/pull/10184>`_

* Remove `core_tasks/` and most of `task/` (#10236)
  `PR #10236 <https://github.com/pantsbuild/pants/pull/10236>`_

* Remove v1 portions of `backend/native` and `ipex` (#10187)
  `PR #10187 <https://github.com/pantsbuild/pants/pull/10187>`_

* Delete v1 python backend task code (#10223)
  `PR #10223 <https://github.com/pantsbuild/pants/pull/10223>`_

* Remove v1 Python `unpack_whls`, `bundle`, and `repl` (#10204)
  `PR #10204 <https://github.com/pantsbuild/pants/pull/10204>`_

* Remove Thrift (#10171)
  `PR #10171 <https://github.com/pantsbuild/pants/pull/10171>`_

* Remove `TestBase.create_library() and `TestBase.target()` (#10237)
  `PR #10237 <https://github.com/pantsbuild/pants/pull/10237>`_

* Remove some v1 parts of `testutil/` (#10233)
  `PR #10233 <https://github.com/pantsbuild/pants/pull/10233>`_

New Features
~~~~~~~~~~~~

* Add new `typecheck` goal for MyPy (#10212)
  `PR #10212 <https://github.com/pantsbuild/pants/pull/10212>`_

* Properly handle PEP 420 namespace packages (#10183)
  `PR #10183 <https://github.com/pantsbuild/pants/pull/10183>`_

* Add support for creating multiple coverage reports (#9997)
  `PR #9997 <https://github.com/pantsbuild/pants/pull/9997>`_

* Add the ability to write/output the raw coverage file. (#10195)
  `PR #10195 <https://github.com/pantsbuild/pants/pull/10195>`_

* Log Coverage report name as part of the console message. (#10194)
  `PR #10194 <https://github.com/pantsbuild/pants/pull/10194>`_

* Attempt to adjust file handle limits and warn if they cannot be adjusted (#10174)
  `PR #10174 <https://github.com/pantsbuild/pants/pull/10174>`_

Bugfixes
~~~~~~~~

* Fix `--changed-dependees` to work when v1 is disabled (#10235)
  `PR #10235 <https://github.com/pantsbuild/pants/pull/10235>`_

* Teach `pants_requirement()` to work with dependency inference (#10232)
  `PR #10232 <https://github.com/pantsbuild/pants/pull/10232>`_

* Remove indentation in process errors. (#10181)
  `PR #10181 <https://github.com/pantsbuild/pants/pull/10181>`_

* Automatically include `__init__.py` files (#10166)
  `PR #10166 <https://github.com/pantsbuild/pants/pull/10166>`_

* Fix AddPrefix to correctly add arbitrarily many parent components (#10189)
  `PR #10189 <https://github.com/pantsbuild/pants/pull/10189>`_

* Fix `dependencies --transitive` to include target roots that are also dependencies (#10186)
  `PR #10186 <https://github.com/pantsbuild/pants/pull/10186>`_

* Fix MyPy to include `resources`, but still not `files` (#10168)
  `PR #10168 <https://github.com/pantsbuild/pants/pull/10168>`_

Refactoring, Improvements, and Tooling
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* Reduce time spend grabbing locks in workunit code (#10179)
  `PR #10179 <https://github.com/pantsbuild/pants/pull/10179>`_

* local_cas supports an instance-name (#10225)
  `PR #10225 <https://github.com/pantsbuild/pants/pull/10225>`_

* local_cas supports GetCapabilities request (#10226)
  `PR #10226 <https://github.com/pantsbuild/pants/pull/10226>`_

* Refactor remoting options into separate struct (#10215)
  `PR #10215 <https://github.com/pantsbuild/pants/pull/10215>`_

* remoting: log RE capabilities and refresh REv2 proto (#10155)
  `PR #10155 <https://github.com/pantsbuild/pants/pull/10155>`_

* Fix stray type error in fs.py (#10182)
  `PR #10182 <https://github.com/pantsbuild/pants/pull/10182>`_

* Remove redundant cast call (#10196)
  `PR #10196 <https://github.com/pantsbuild/pants/pull/10196>`_

* Use debug level for remote store workunits (#10238)
  `PR #10238 <https://github.com/pantsbuild/pants/pull/10238>`_

* Simplify Get implementation. (#10178)
  `PR #10178 <https://github.com/pantsbuild/pants/pull/10178>`_

* Delete the old BinaryTool mechanism. (#10239)
  `PR #10239 <https://github.com/pantsbuild/pants/pull/10239>`_

* Delete more v1 task-related integration tests. (#10210)
  `PR #10210 <https://github.com/pantsbuild/pants/pull/10210>`_

* Refactor coverage integration tests (#10209)
  `PR #10209 <https://github.com/pantsbuild/pants/pull/10209>`_

* Stop using deprecated assertEquals (#10197)
  `PR #10197 <https://github.com/pantsbuild/pants/pull/10197>`_

* Remove `ivy/` and most of `java/` (#10222)
  `PR #10222 <https://github.com/pantsbuild/pants/pull/10222>`_

* Remove Bundle and App code (#10221)
  `PR #10221 <https://github.com/pantsbuild/pants/pull/10221>`_

* Remove more zipkin-related code (#10207)
  `PR #10207 <https://github.com/pantsbuild/pants/pull/10207>`_

* Remove unused `list_backends.py` (#10205)
  `PR #10205 <https://github.com/pantsbuild/pants/pull/10205>`_

* Remove internal `contrib/` infrastructure (#10177)
  `PR #10177 <https://github.com/pantsbuild/pants/pull/10177>`_

* Rewrite/delete some tests that involve v1 tasks. (#10219)
  `PR #10219 <https://github.com/pantsbuild/pants/pull/10219>`_

* Remove JVM testprojects (#10216)
  `PR #10216 <https://github.com/pantsbuild/pants/pull/10216>`_

* Stop testing `testprojects::` (#10170)
  `PR #10170 <https://github.com/pantsbuild/pants/pull/10170>`_

* Remove the src/{scala|java} directories. (#10201)
  `PR #10201 <https://github.com/pantsbuild/pants/pull/10201>`_

* Delete examples/src/{java,scala}. (#10198)
  `PR #10198 <https://github.com/pantsbuild/pants/pull/10198>`_

* Stop running JVM tests written in Java/Scala (#10175)
  `PR #10175 <https://github.com/pantsbuild/pants/pull/10175>`_

* Move `scm/` and `util/` tests to `src` (#10176)
  `PR #10176 <https://github.com/pantsbuild/pants/pull/10176>`_

* Nuke more v1 tests (#10172)
  `PR #10172 <https://github.com/pantsbuild/pants/pull/10172>`_

* upgrade tokio to 0.2.21 (#10191)
  `PR #10191 <https://github.com/pantsbuild/pants/pull/10191>`_

* upgrade futures crate to 0.3.5 (#10190)
  `PR #10190 <https://github.com/pantsbuild/pants/pull/10190>`_

* upgrade async-trait crate to 0.1.36 (#10193)
  `PR #10193 <https://github.com/pantsbuild/pants/pull/10193>`_

* upgrade crossbeam-channel create so only one copy (#10192)
  `PR #10192 <https://github.com/pantsbuild/pants/pull/10192>`_

* upgrade indexmap crate (#10199)
  `PR #10199 <https://github.com/pantsbuild/pants/pull/10199>`_

* upgrade parking_lot crate (#10200)
  `PR #10200 <https://github.com/pantsbuild/pants/pull/10200>`_

Documentation
~~~~~~~~~~~~~

* Prepare 1.30.0rc1. (#10188)
  `PR #10188 <https://github.com/pantsbuild/pants/pull/10188>`_

2.0.0.dev0 (6/25/2020)
----------------------

API Changes
~~~~~~~~~~~

* Remove v1 JVM backend Tasks. (#10142)
  `PR #10142 <https://github.com/pantsbuild/pants/pull/10142>`_

* Remove `targets` goal in favor of `target-types` goal (#10145)
  `PR #10145 <https://github.com/pantsbuild/pants/pull/10145>`_

* Remove deprecated `Get[P](S)` syntax in favor of `Get(P, S)` (#10148)
  `Issue #9899 <https://github.com/pantsbuild/pants/issues/9899>`_
  `PR #10148 <https://github.com/pantsbuild/pants/pull/10148>`_

* Remove v1 `login`, `server`, and `killserver` goals (#10144)
  `PR #10144 <https://github.com/pantsbuild/pants/pull/10144>`_

* Remove v1 `minimize`, `filemap`, `paths`, `sort`, and `depmap` goals (#10135)
  `PR #10135 <https://github.com/pantsbuild/pants/pull/10135>`_

* Replace v1 `dependees`, `dependencies`, `filedeps`, and `filter` with v2 (#10117)
  `PR #10117 <https://github.com/pantsbuild/pants/pull/10117>`_

* Remove the v1 scrooge contrib plugin. (#10127)
  `PR #10127 <https://github.com/pantsbuild/pants/pull/10127>`_

* Remove support for `pants.ini` (#10123)
  `PR #10123 <https://github.com/pantsbuild/pants/pull/10123>`_

* Remove the v1 `export` goal (#10122)
  `PR #10122 <https://github.com/pantsbuild/pants/pull/10122>`_

* Remove `pants.backend.docgen` (#10121)
  `PR #10121 <https://github.com/pantsbuild/pants/pull/10121>`_

* Remove v1 `idea-plugin` goal (#10115)
  `PR #10115 <https://github.com/pantsbuild/pants/pull/10115>`_

* Remove v1 Java Protobuf implementation (#10111)
  `PR #10111 <https://github.com/pantsbuild/pants/pull/10111>`_

* Remove `pants.contrib.node` plugin (#10113)
  `PR #10113 <https://github.com/pantsbuild/pants/pull/10113>`_

* Remove v1 `bash-completion` goal (#10112)
  `PR #10112 <https://github.com/pantsbuild/pants/pull/10112>`_

* Remove watchman. (#10114)
  `PR #10114 <https://github.com/pantsbuild/pants/pull/10114>`_

* Upgrade default mypy version from 0.780 to 0.781 (#10109)
  `PR #10109 <https://github.com/pantsbuild/pants/pull/10109>`_

* Remove `pants.contrib.go` plugin (#10107)
  `PR #10107 <https://github.com/pantsbuild/pants/pull/10107>`_

* Remove v1 Python Grpcio codegen backend (#10108)
  `PR #10108 <https://github.com/pantsbuild/pants/pull/10108>`_

* Remove deprecated `--v2-ui` in favor of `--dynamic-ui` (#10105)
  `PR #10105 <https://github.com/pantsbuild/pants/pull/10105>`_

* Remove deprecated `--enable-pantsd` in favor of `--pantsd` (#10104)
  `PR #10104 <https://github.com/pantsbuild/pants/pull/10104>`_

* Remove deprecated `pytest-coverage` scope in favor of `coverage-py` (#10103)
  `PR #10103 <https://github.com/pantsbuild/pants/pull/10103>`_

* Remove `pants.contrib.confluence` (#10106)
  `PR #10106 <https://github.com/pantsbuild/pants/pull/10106>`_

New Features
~~~~~~~~~~~~

* Add support for MyPy to Pants v2 (#10132)
  `Issue #10131 <https://github.com/pantsbuild/pants/issues/10131>`_
  `PR #10132 <https://github.com/pantsbuild/pants/pull/10132>`_

* Changes to support Django. (#10088)
  `PR #10088 <https://github.com/pantsbuild/pants/pull/10088>`_

* Add support for enum list options. (#10083)
  `Issue #9968 <https://github.com/pantsbuild/pants/issues/9968>`_
  `PR #10083 <https://github.com/pantsbuild/pants/pull/10083>`_

Bugfixes
~~~~~~~~

* Do not render pytest at info by default, but give it a description. (#10164)
  `PR #10164 <https://github.com/pantsbuild/pants/pull/10164>`_

* Preserve source roots in MyPy and Pylint output (#10159)
  `PR #10159 <https://github.com/pantsbuild/pants/pull/10159>`_

* Do not include resource targets in v2 MyPy chroot (#10154)
  `PR #10154 <https://github.com/pantsbuild/pants/pull/10154>`_

* Set dynamic-ui default based on CI (#10140)
  `PR #10140 <https://github.com/pantsbuild/pants/pull/10140>`_

* Fix Pytest XML reports and Coverage breaking with remote execution (#10136)
  `PR #10136 <https://github.com/pantsbuild/pants/pull/10136>`_

* Retry for filesystem changes more quickly, indefinitely, and with logging (#10139)
  `PR #10139 <https://github.com/pantsbuild/pants/pull/10139>`_

* Normalize paths before determining whether we can watch them. (#10130)
  `PR #10130 <https://github.com/pantsbuild/pants/pull/10130>`_

Refactoring, Improvements, and Tooling
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* Remove use of importlib for native_engine loading (#10161)
  `PR #10161 <https://github.com/pantsbuild/pants/pull/10161>`_

* Update sha2 crate dependency (#10163)
  `PR #10163 <https://github.com/pantsbuild/pants/pull/10163>`_

* Remove unused rust deps. (#10162)
  `PR #10162 <https://github.com/pantsbuild/pants/pull/10162>`_

* Add message field on workunits and use it to replace some explicit logging (#10158)
  `PR #10158 <https://github.com/pantsbuild/pants/pull/10158>`_

* Expose the types consumed to produce a type in a RuleGraph. (#10153)
  `PR #10153 <https://github.com/pantsbuild/pants/pull/10153>`_

* Upgrade setuptools from 44.0.0 to 47.3.1 (#10149)
  `PR #10149 <https://github.com/pantsbuild/pants/pull/10149>`_

* Support for using unstripped python sources (#10138)
  `PR #10138 <https://github.com/pantsbuild/pants/pull/10138>`_

* fix snapshot subset testing and unrevert #9779 (#10146)
  `PR #10146 <https://github.com/pantsbuild/pants/pull/10146>`_

* Revert "Make SnapshotSubset() faster (#9779)" (#10143)
  `PR #9779 <https://github.com/pantsbuild/pants/pull/9779>`_
  `PR #10143 <https://github.com/pantsbuild/pants/pull/10143>`_

* Make SnapshotSubset() faster (#9779)
  `PR #9779 <https://github.com/pantsbuild/pants/pull/9779>`_

* upgrade to rust v1.44.1 (#10125)
  `PR #10125 <https://github.com/pantsbuild/pants/pull/10125>`_

* Remove `BuildFile` (#10102)
  `PR #10102 <https://github.com/pantsbuild/pants/pull/10102>`_

Testing
~~~~~~~

* Enable test timeouts for python in v2. (#10147)
  `PR #10147 <https://github.com/pantsbuild/pants/pull/10147>`_

* Delete many v1 tests. (#10116)
  `PR #10116 <https://github.com/pantsbuild/pants/pull/10116>`_

* enable REv2 streaming client in CI (#9989)
  `PR #9989 <https://github.com/pantsbuild/pants/pull/9989>`_

Documentation
~~~~~~~~~~~~~

* Remove the v1 docsite (#10120)
  `PR #10120 <https://github.com/pantsbuild/pants/pull/10120>`_
