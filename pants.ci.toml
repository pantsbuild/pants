[GLOBAL]
colors = true
plugins.add = ["shoalsoft-pants-opentelemetry-plugin==0.4.0"]
backend_packages.add = ["shoalsoft.pants_opentelemetry_plugin"]

[test]
report = true
attempts_default = 3

[pytest]
args = ["--no-header", "--noskip", "-vv"]

[subprocess-environment]
env_vars.add = [
  # Works around bad `-arch arm64` flag embedded in Xcode 12.x Python interpreters on intel
  # machines. See: https://github.com/giampaolo/psutil/issues/1832
  "ARCHFLAGS",
]

[shoalsoft-opentelemetry]
enabled = true
exporter_endpoint = "https://api.honeycomb.io"

[shoalsoft-opentelemetry.exporter_headers]
"x-honeycomb-team" = "%(env.HONEYCOMB_API_KEY)s"
